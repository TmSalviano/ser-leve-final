// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Usuario {
  Id Int @id @default(autoincrement())
  Nome String?
  NameTag String @unique
  Email String @unique
  Password String
  ProfilePicture String?
  Biografy String?
  Following Follow[] @relation("Following") 
  Followers Follow[] @relation("Followers") 
  DarkMode Boolean @default(false)
  IsLoggedIn Boolean @default(false)
}

model Follow {
  FollowerId Int
  FollowingId Int
  Follower Usuario @relation("Followers", fields: [FollowerId], references: [Id])
  Following Usuario @relation("Following", fields: [FollowingId], references: [Id])

  @@id([FollowerId, FollowingId]) // Composite primary (ensures unique pairs)
}

